---
keywords: fastai
description: Data connections, trends, and correlation.  Pandas is introduced as it could be valuable for PBL, data validation, as well as understanding College Board Topics.
title: Unit 2.3 (Extracting Information from Data, Pandas) Notes
toc: true
categories: []
permalink: /2-3notes/
nb_path: _notebooks/2023-03-09-AP-unit2-3.ipynb
layout: notebook
---

<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2023-03-09-AP-unit2-3.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Pandas-and-DataFrames">Pandas and DataFrames<a class="anchor-link" href="#Pandas-and-DataFrames"> </a></h1><blockquote><p>In this lesson we will be exploring data analysis using Pandas.</p>
</blockquote>
<ul>
<li>College Board talks about ideas like <ul>
<li>Tools. "the ability to process data depends on users capabilities and their tools"</li>
<li>Combining Data.  "combine county data sets"</li>
<li>Status on Data"determining the artist with the greatest attendance during a particular month"</li>
<li>Data poses challenge. "the need to clean data", "incomplete data"</li>
</ul>
</li>
</ul>
<ul>
<li><a href="https://pandas.pydata.org/docs/getting_started/index.html">From Pandas Overview</a> -- When working with tabular data, such as data stored in spreadsheets or databases, pandas is the right tool for you. pandas will help you to explore, clean, and process your data. In pandas, a data table is called a DataFrame.</li>
</ul>
<p><img src="/realdrew/images/copied_from_nb/images/table_dataframe.png" alt="DataFrame"></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="sd">&#39;&#39;&#39;Pandas is used to gather data sets through its DataFrames implementation&#39;&#39;&#39;</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Cleaning-Data">Cleaning Data<a class="anchor-link" href="#Cleaning-Data"> </a></h1><p>When looking at a data set, check to see what data needs to be cleaned. Examples include:</p>
<ul>
<li>Missing Data Points</li>
<li>Invalid Data</li>
<li>Inaccurate Data</li>
</ul>
<p>Run the following code to see what needs to be cleaned</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s1">&#39;files/grade.json&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="c1"># What part of the data set needs to be cleaned?</span>
<span class="c1"># From PBL learning, what is a good time to clean data?  Hint, remember Garbage in, Garbage out?</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>   Student ID Year in School   GPA
0         123             12  3.57
1         246             10  4.00
2         578             12  2.78
3         469             11  3.45
4         324         Junior  4.75
5         313             20  3.33
6         145             12  2.95
7         167             10  3.90
8         235      9th Grade  3.15
9         nil              9  2.80
10        469             11  3.45
11        456             10  2.75
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Identifying-Outliers-(Interaction)">Identifying Outliers (Interaction)<a class="anchor-link" href="#Identifying-Outliers-(Interaction)"> </a></h2><p>Some outliers include the grade in student 4 ("Junior"), 5 ("20") and 8 ("9th Grade"), and the Student ID "nil" for student 9.</p>
<p>Student 4's GPA also could or could not be correct. This could just be an outlier that's accurate or it could be a weighting problem.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Extracting-Info">Extracting Info<a class="anchor-link" href="#Extracting-Info"> </a></h1><p>Take a look at some features that the Pandas library has that extracts info from the dataset</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="DataFrame-Extract-Column">DataFrame Extract Column<a class="anchor-link" href="#DataFrame-Extract-Column"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;GPA&#39;</span><span class="p">]])</span>

<span class="nb">print</span><span class="p">()</span>

<span class="c1">#try two columns and remove the index from print statement</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;Student ID&#39;</span><span class="p">,</span><span class="s1">&#39;GPA&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span> <span class="c1">#HOW TO HIDE INDEX, FOR LATER</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>     GPA
0   3.57
1   4.00
2   2.78
3   3.45
4   4.75
5   3.33
6   2.95
7   3.90
8   3.15
9   2.80
10  3.45
11  2.75

Student ID  GPA
       123 3.57
       246 4.00
       578 2.78
       469 3.45
       324 4.75
       313 3.33
       145 2.95
       167 3.90
       235 3.15
       nil 2.80
       469 3.45
       456 2.75
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="DataFrame-Sort">DataFrame Sort<a class="anchor-link" href="#DataFrame-Sort"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GPA&#39;</span><span class="p">]))</span>

<span class="nb">print</span><span class="p">()</span>

<span class="c1">#sort the values in reverse order</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GPA&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>   Student ID Year in School   GPA
11        456             10  2.75
2         578             12  2.78
9         nil              9  2.80
6         145             12  2.95
8         235      9th Grade  3.15
5         313             20  3.33
3         469             11  3.45
10        469             11  3.45
0         123             12  3.57
7         167             10  3.90
1         246             10  4.00
4         324         Junior  4.75

   Student ID Year in School   GPA
4         324         Junior  4.75
1         246             10  4.00
7         167             10  3.90
0         123             12  3.57
3         469             11  3.45
10        469             11  3.45
5         313             20  3.33
8         235      9th Grade  3.15
6         145             12  2.95
9         nil              9  2.80
2         578             12  2.78
11        456             10  2.75
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="DataFrame-Selection-or-Filter">DataFrame Selection or Filter<a class="anchor-link" href="#DataFrame-Selection-or-Filter"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">GPA</span> <span class="o">&gt;</span> <span class="mf">3.00</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>   Student ID Year in School   GPA
0         123             12  3.57
1         246             10  4.00
3         469             11  3.45
4         324         Junior  4.75
5         313             20  3.33
7         167             10  3.90
8         235      9th Grade  3.15
10        469             11  3.45
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="DataFrame-Selection-Max-and-Min">DataFrame Selection Max and Min<a class="anchor-link" href="#DataFrame-Selection-Max-and-Min"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">GPA</span> <span class="o">==</span> <span class="n">df</span><span class="o">.</span><span class="n">GPA</span><span class="o">.</span><span class="n">max</span><span class="p">()])</span>
<span class="nb">print</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">GPA</span> <span class="o">==</span> <span class="n">df</span><span class="o">.</span><span class="n">GPA</span><span class="o">.</span><span class="n">min</span><span class="p">()])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>  Student ID Year in School   GPA
4        324         Junior  4.75

   Student ID Year in School   GPA
11        456             10  2.75
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Create-your-own-DataFrame">Create your own DataFrame<a class="anchor-link" href="#Create-your-own-DataFrame"> </a></h1><p>Using Pandas allows you to create your own DataFrame in Python.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Python-Dictionary-to-Pandas-DataFrame">Python Dictionary to Pandas DataFrame<a class="anchor-link" href="#Python-Dictionary-to-Pandas-DataFrame"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1">#the data can be stored as a python dictionary</span>
<span class="nb">dict</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;calories&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">420</span><span class="p">,</span> <span class="mi">380</span><span class="p">,</span> <span class="mi">390</span><span class="p">,</span> <span class="mi">300</span><span class="p">],</span>
  <span class="s2">&quot;duration&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">35</span><span class="p">]</span> <span class="c1">#I added new values</span>
<span class="p">}</span>
<span class="c1">#stores the data in a data frame</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-------------Dict_to_DF------------------&quot;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;----------Dict_to_DF_labels--------------&quot;</span><span class="p">)</span>

<span class="c1">#or with the index argument, you can label rows.</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;day1&quot;</span><span class="p">,</span> <span class="s2">&quot;day2&quot;</span><span class="p">,</span> <span class="s2">&quot;day3&quot;</span><span class="p">,</span> <span class="s2">&quot;day4&quot;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>-------------Dict_to_DF------------------
   calories  duration
0       420        50
1       380        40
2       390        45
3       300        35
----------Dict_to_DF_labels--------------
      calories  duration
day1       420        50
day2       380        40
day3       390        45
day4       300        35
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Examine-DataFrame-Rows">Examine DataFrame Rows<a class="anchor-link" href="#Examine-DataFrame-Rows"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-------Examine Selected Rows---------&quot;</span><span class="p">)</span>
<span class="c1">#use a list for multiple labels:</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="s2">&quot;day1&quot;</span><span class="p">,</span> <span class="s2">&quot;day3&quot;</span><span class="p">]])</span>

<span class="c1">#refer to the row index:</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--------Examine Single Row-----------&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;day1&quot;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>-------Examine Selected Rows---------
      calories  duration
day1       420        50
day3       390        45
--------Examine Single Row-----------
calories    420
duration     50
Name: day1, dtype: int64
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Pandas-DataFrame-Information">Pandas DataFrame Information<a class="anchor-link" href="#Pandas-DataFrame-Information"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">())</span> <span class="c1">#prints with new data set in mind</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Index: 4 entries, day1 to day4
Data columns (total 2 columns):
 #   Column    Non-Null Count  Dtype
---  ------    --------------  -----
 0   calories  4 non-null      int64
 1   duration  4 non-null      int64
dtypes: int64(2)
memory usage: 268.0+ bytes
None
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Example-of-larger-data-set">Example of larger data set<a class="anchor-link" href="#Example-of-larger-data-set"> </a></h1><p>Pandas can read CSV and many other types of files, run the following code to see more features with a larger data set</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1">#read csv and sort &#39;Duration&#39; largest to smallest</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;files/data.csv&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Duration&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--Duration Top 10---------&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--Duration Bottom 10------&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>--Duration Top 10---------
     Duration  Pulse  Maxpulse  Calories
69        300    108       143    1500.2
79        270    100       131    1729.0
109       210    137       184    1860.4
60        210    108       160    1376.0
106       180     90       120     800.3
90        180    101       127     600.1
65        180     90       130     800.4
61        160    110       137    1034.4
62        160    109       135     853.0
67        150    107       130     816.0
--Duration Bottom 10------
     Duration  Pulse  Maxpulse  Calories
68         20    106       136     110.4
100        20     95       112      77.7
89         20     83       107      50.3
135        20    136       156     189.0
94         20    150       171     127.4
95         20    151       168     229.4
139        20    141       162     222.4
64         20    110       130     131.4
112        15    124       139     124.2
93         15     80       100      50.5
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="APIs-are-a-Source-for-Writing-Programs-with-Data">APIs are a Source for Writing Programs with Data<a class="anchor-link" href="#APIs-are-a-Source-for-Writing-Programs-with-Data"> </a></h1><blockquote><p>3rd Party APIs are a great source for creating Pandas Data Frames.</p>
<ul>
<li>Data can be fetched and resulting json can be placed into a Data Frame</li>
<li>Observe output, this looks very similar to a Database</li>
</ul>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="sd">&#39;&#39;&#39;Pandas can be used to analyze data&#39;&#39;&#39;</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="k">def</span> <span class="nf">fetch</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;Obtain data from an endpoint&#39;&#39;&#39;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://flask.nighthawkcodingsociety.com/api/covid/&quot;</span>
    <span class="n">fetch</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">json</span> <span class="o">=</span> <span class="n">fetch</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

    <span class="c1"># filter data for requirement</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">json</span><span class="p">[</span><span class="s1">&#39;countries_stat&#39;</span><span class="p">])</span>  <span class="c1"># filter endpoint for country stats</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;country_name&#39;</span><span class="p">:</span><span class="s1">&#39;deaths&#39;</span><span class="p">])</span> <span class="c1"># show row 0 through 5 and columns country_name through deaths</span>
    
<span class="n">fetch</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>  country_name       cases     deaths
0          USA  82,649,779  1,018,316
1        India  43,057,545    522,193
2       Brazil  30,345,654    662,663
3       France  28,244,977    145,020
4      Germany  24,109,433    134,624
5           UK  21,933,206    173,352
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Hacks">Hacks<a class="anchor-link" href="#Hacks"> </a></h1><blockquote><p>Early Seed award</p>
</blockquote>
<p>I hope you saw it during class.</p>
<h2 id="AP-Prep">AP Prep<a class="anchor-link" href="#AP-Prep"> </a></h2><p>I didn't make my own questions this time because I learned that we weren't really intended to do that. I did take the College Board practice quiz, though.</p>
<h3 id="2.3-College-Board-Practice-Problems">2.3 College Board Practice Problems<a class="anchor-link" href="#2.3-College-Board-Practice-Problems"> </a></h3><p>Here are the results of the 2.3 practice questions.</p>
<figure>
  <img src="{{site.baseurl}}/images/Screen Shot 2023-03-11 at 3.19.14 PM.png" alt="6/6" width="800"/>
  <figcaption>I got 6/6.</figcaption>
</figure><p>All of the questions had very clear answers, so I don't have a lot to reflect on. They were common sense questions above all else.</p>
<h2 id="Personal-Dataset-Work">Personal Dataset Work<a class="anchor-link" href="#Personal-Dataset-Work"> </a></h2><blockquote><p>The next 4 weeks, Teachers want you to improve your understanding of data.  Look at the blog and others on Unit 2.  Your intention is to find some things to differentiate your individual College Board project.</p>
</blockquote>
<ul>
<li><p>Create or Find your own dataset.  The suggestion is to use a JSON file, integrating with your PBL project would be <strong><em>Amazing</em></strong>.</p>
</li>
<li><p>When choosing a data set, think about the following...</p>
<ul>
<li>Does it have a good sample size?</li>
<li>Is there bias in the data?</li>
<li>Does the data set need to be cleaned?</li>
<li>What is the purpose of the data set?</li>
<li>...</li>
</ul>
</li>
<li><p>Continue this Blog using Pandas extract info from that dataset (ex. max, min, mean, median, mode, etc.)</p>
</li>
</ul>
<p>I decided to try applying Pandas sorting methods to my events database from the Cafe Gato project.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="sd">&#39;&#39;&#39;Pandas can be used to analyze data&#39;&#39;&#39;</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="k">def</span> <span class="nf">fetch</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">eventdf</span>
    <span class="sd">&#39;&#39;&#39;Obtain data from an endpoint&#39;&#39;&#39;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://cgato.duckdns.org/api/events/&quot;</span>
    <span class="n">fetch</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">json</span> <span class="o">=</span> <span class="n">fetch</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

    <span class="c1"># filter data for requirement</span>
    <span class="n">eventdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">json</span><span class="p">)</span>  <span class="c1"># filter endpoint for country stats</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">eventdf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">:</span><span class="s1">&#39;name&#39;</span><span class="p">])</span> <span class="c1"># show row 0 through 5 and columns country_name through deaths</span>
    
<span class="n">fetch</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>         date                email end_time  \
0  03/13/2023     fixer@icloud.com    13:00   
1  03/01/2023      lucky@magic.com    15:00   
2  03/07/2023    downer@icloud.com    13:45   
3  02/28/2023        cat@gmail.com    14:00   
4  03/04/2023  drewdafox@gmail.com    14:00   

                                       event_details  \
0                                We&#39;re gonna fix it!   
1  This is the month that St. Patrick&#39;s Day takes...   
2                         We&#39;re gonna break it down!   
3                                           adsfasdf   
4                                 Test for the class   

                       event_name  id              name  
0              The Fix Mix Flicks   3       Fixer Upper  
1  Beginning of March Celebration   5  Lucky Leprechaun  
2         The Down Breaker Clowns   6    Breaker Downer  
3                             cat   7               cat  
4              Test Day for APCSP   8         Drew Reed  
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I decided to use Pandas for a process I spent a lot of time and effort on in the frontend...</p>
<h3 id="Date-Sorting">Date Sorting<a class="anchor-link" href="#Date-Sorting"> </a></h3><p>Below, I've sorted the data both by soonest and by latest.</p>
<h4 id="Earliest">Earliest<a class="anchor-link" href="#Earliest"> </a></h4><p>Below is sorted by earliest, plus only shows certain columns to save space.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">eventdf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">:</span><span class="s1">&#39;event_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>         date                email end_time  \
3  02/28/2023        cat@gmail.com    14:00   
1  03/01/2023      lucky@magic.com    15:00   
4  03/04/2023  drewdafox@gmail.com    14:00   
2  03/07/2023    downer@icloud.com    13:45   
0  03/13/2023     fixer@icloud.com    13:00   

                                       event_details  \
3                                           adsfasdf   
1  This is the month that St. Patrick&#39;s Day takes...   
4                                 Test for the class   
2                         We&#39;re gonna break it down!   
0                                We&#39;re gonna fix it!   

                       event_name  
3                             cat  
1  Beginning of March Celebration  
4              Test Day for APCSP  
2         The Down Breaker Clowns  
0              The Fix Mix Flicks  
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Latest">Latest<a class="anchor-link" href="#Latest"> </a></h4><p>Below, the data is sorted by latest.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">eventdf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">:</span><span class="s1">&#39;event_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>         date                email end_time  \
0  03/13/2023     fixer@icloud.com    13:00   
2  03/07/2023    downer@icloud.com    13:45   
4  03/04/2023  drewdafox@gmail.com    14:00   
1  03/01/2023      lucky@magic.com    15:00   
3  02/28/2023        cat@gmail.com    14:00   

                                       event_details  \
0                                We&#39;re gonna fix it!   
2                         We&#39;re gonna break it down!   
4                                 Test for the class   
1  This is the month that St. Patrick&#39;s Day takes...   
3                                           adsfasdf   

                       event_name  
0              The Fix Mix Flicks  
2         The Down Breaker Clowns  
4              Test Day for APCSP  
1  Beginning of March Celebration  
3                             cat  
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Other-Online-Data">Other Online Data<a class="anchor-link" href="#Other-Online-Data"> </a></h2><p>I decided to use a free health statistics API from RapidAPI and try to see things about it with Pandas. It mostly covers the basic health information of servings of common ingredients (so not full recipe details).</p>
<p>It's a fairly complicated data set, so I ended up spending a while just trying to isolate important data. Below, you can see that I managed to isolate the nutrition information.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="c1"># GET code</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://edamam-food-and-grocery-database.p.rapidapi.com/parser&quot;</span>

<span class="n">querystring</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;ingr&quot;</span><span class="p">:</span><span class="s2">&quot;apple&quot;</span><span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
	<span class="s2">&quot;X-RapidAPI-Key&quot;</span><span class="p">:</span> <span class="s2">&quot;f9dc4c060fmsh192fef0e86699c6p109981jsn882369c51285&quot;</span><span class="p">,</span>
	<span class="s2">&quot;X-RapidAPI-Host&quot;</span><span class="p">:</span> <span class="s2">&quot;edamam-food-and-grocery-database.p.rapidapi.com&quot;</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">querystring</span><span class="p">)</span>
<span class="n">json</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="n">nutrients</span> <span class="o">=</span> <span class="n">json</span><span class="p">[</span><span class="s1">&#39;parsed&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;food&#39;</span><span class="p">][</span><span class="s1">&#39;nutrients&#39;</span><span class="p">]</span>
<span class="c1">#fooddf = pd.DataFrame(json[1][&#39;nutrients&#39;])</span>

<span class="c1">#print(fooddf)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">nutrients</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>{&#39;ENERC_KCAL&#39;: 52.0, &#39;PROCNT&#39;: 0.26, &#39;FAT&#39;: 0.17, &#39;CHOCDF&#39;: 13.81, &#39;FIBTG&#39;: 2.4}
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The data above is only for "apple," however. I decided to try to expand the amount of data by removing the <code>querystring</code>.</p>
<p>In order to translate the acronyms, I had to look at the <a href="https://developer.edamam.com/edamam-docs-recipe-api#/">documentation for the API</a> to correctly label it.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="c1"># GET code</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://edamam-food-and-grocery-database.p.rapidapi.com/parser&quot;</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
	<span class="s2">&quot;X-RapidAPI-Key&quot;</span><span class="p">:</span> <span class="s2">&quot;f9dc4c060fmsh192fef0e86699c6p109981jsn882369c51285&quot;</span><span class="p">,</span>
	<span class="s2">&quot;X-RapidAPI-Host&quot;</span><span class="p">:</span> <span class="s2">&quot;edamam-food-and-grocery-database.p.rapidapi.com&quot;</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span> <span class="c1">#fetch with no query</span>
<span class="n">json</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

<span class="n">fooddata</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1">#for appending data here</span>
<span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">json</span><span class="p">[</span><span class="s1">&#39;hints&#39;</span><span class="p">]:</span> <span class="c1">#reformatting the information for the pandas table</span>
	<span class="n">newdict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Name&#39;</span><span class="p">:</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;food&#39;</span><span class="p">][</span><span class="s1">&#39;label&#39;</span><span class="p">],</span>
		<span class="s1">&#39;Calories&#39;</span><span class="p">:</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;food&#39;</span><span class="p">][</span><span class="s1">&#39;nutrients&#39;</span><span class="p">][</span><span class="s1">&#39;ENERC_KCAL&#39;</span><span class="p">],</span>
		<span class="s1">&#39;Protein (g)&#39;</span><span class="p">:</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;food&#39;</span><span class="p">][</span><span class="s1">&#39;nutrients&#39;</span><span class="p">][</span><span class="s1">&#39;PROCNT&#39;</span><span class="p">],</span>
		<span class="s1">&#39;Fat (g)&#39;</span><span class="p">:</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;food&#39;</span><span class="p">][</span><span class="s1">&#39;nutrients&#39;</span><span class="p">][</span><span class="s1">&#39;FAT&#39;</span><span class="p">],</span>
		<span class="s1">&#39;Carbohydrates (g)&#39;</span><span class="p">:</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;food&#39;</span><span class="p">][</span><span class="s1">&#39;nutrients&#39;</span><span class="p">][</span><span class="s1">&#39;CHOCDF&#39;</span><span class="p">],</span>
		<span class="s1">&#39;Fiber (g)&#39;</span><span class="p">:</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;food&#39;</span><span class="p">][</span><span class="s1">&#39;nutrients&#39;</span><span class="p">][</span><span class="s1">&#39;FIBTG&#39;</span><span class="p">]}</span>
	<span class="n">fooddata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">newdict</span><span class="p">)</span>

<span class="n">fooddf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">fooddata</span><span class="p">)</span>
<span class="c1">#print(fooddf)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Since that prints a whole lot of data, I decided to narrow it to the top five.</p>
<p>Here is the top five most protein-rich ingredients in the list. So that it would stay within one line, I made it cut off at <code>'Fat (g)'</code>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">fooddf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;Name&#39;</span><span class="p">:</span><span class="s1">&#39;Fat (g)&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Protein (g)&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>                         Name  Calories  Protein (g)  Fat (g)
4               Cheese, Brick     371.0        23.24    29.68
3                Cheese, Blue     353.0        21.40    28.74
5                Cheese, Brie     334.0        20.75    27.68
0              Butter, Salted     717.0         0.85    81.11
1  Butter, Whipped, With Salt     717.0         0.85    81.11
2       Butter Oil, Anhydrous     876.0         0.28    99.48
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The data that it's letting me pull is usually at the start of the aphabet. There may be more with the full, paid version of the API. This shows that some variations of cheeses have more protein than others in the full list.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Hack-Helpers">Hack Helpers<a class="anchor-link" href="#Hack-Helpers"> </a></h2><p>To declutter my blog, I decided to delete this section since it's in the source article anyway. For my own personal reference, it can be found <a href="https://nighthawkcoders.github.io/APCSP//2023/03/09/AP-unit2-3.html#Hack-Helpers">here</a>.</p>

</div>
</div>
</div>
</div>
 


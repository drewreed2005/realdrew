<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">View and Frontend Notes</h1><p class="page-description">Connecting frontend to code elements to create CRUD (but good crud).</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2023-01-12T00:00:00-06:00" itemprop="datePublished">
        Jan 12, 2023
      </time>
       â€¢ <span class="read-time" title="Estimated read time">
    
    
      3 min read
    
</span></p>

    

    
      
        <div class="pb-5 d-flex flex-justify-center">
          <div class="px-2">

    <a href="https://github.com/drewreed2005/realdrew/tree/master/_notebooks/2023-01-12-viewandfrontend.ipynb" role="button" target="_blank">
<img class="notebook-badge-image" src="/realdrew/assets/badges/github.svg" alt="View On GitHub">
    </a>
</div>

          <div class="px-2">
    <a href="https://mybinder.org/v2/gh/drewreed2005/realdrew/master?filepath=_notebooks%2F2023-01-12-viewandfrontend.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/realdrew/assets/badges/binder.svg" alt="Open In Binder"/>
    </a>
</div>

          <div class="px-2">
    <a href="https://colab.research.google.com/github/drewreed2005/realdrew/blob/master/_notebooks/2023-01-12-viewandfrontend.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/realdrew/assets/badges/colab.svg" alt="Open In Colab"/>
    </a>
</div>
          <div class="px-2">
  <a href="https://deepnote.com/launch?url=https%3A%2F%2Fgithub.com%2Fdrewreed2005%2Frealdrew%2Fblob%2Fmaster%2F_notebooks%2F2023-01-12-viewandfrontend.ipynb" target="_blank">
      <img class="notebook-badge-image" src="/realdrew/assets/badges/deepnote.svg" alt="Launch in Deepnote"/>
  </a>
</div>

        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#What-is-CRUD?">What is CRUD? </a>
<ul>
<li class="toc-entry toc-h3"><a href="#Example-with-Table">Example with Table </a></li>
<li class="toc-entry toc-h3"><a href="#Other-Formatting-Example">Other Formatting Example </a></li>
<li class="toc-entry toc-h3"><a href="#Connecting-to-Code">Connecting to Code </a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#Where-to-Get-Started">Where to Get Started </a>
<ul>
<li class="toc-entry toc-h3"><a href="#How-I-Will-Use-CRUD">How I Will Use CRUD </a></li>
</ul>
</li>
</ul><!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2023-01-12-viewandfrontend.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Skipping the review stuff, here are some valuable notes:</p>
<h2 id="What-is-CRUD?">
<a class="anchor" href="#What-is-CRUD?" aria-hidden="true"><span class="octicon octicon-link"></span></a>What is CRUD?<a class="anchor-link" href="#What-is-CRUD?"> </a>
</h2>
<p>C - Create
R - Read
U - Update
D - Delete</p>
<p>In the case of this lesson, we will be...</p>
<ul>
<li>
<strong>C</strong>reating new student records</li>
<li>
<strong>R</strong>eading a list of students</li>
<li>
<strong>U</strong>pdating student data</li>
<li>
<strong>D</strong>eleting records</li>
</ul>
<h3 id="Example-with-Table">
<a class="anchor" href="#Example-with-Table" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example with Table<a class="anchor-link" href="#Example-with-Table"> </a>
</h3>
<p>Below is an example of the View part of a data collection table, created with HTML 5.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-javascript"><pre><span></span><span class="cm">/*</span>
<span class="cm">&lt;table&gt;</span>
<span class="cm">    &lt;tr&gt;</span>
<span class="cm">        &lt;th&gt;&lt;label for="name"&gt;Name&lt;/label&gt;&lt;/th&gt;</span>
<span class="cm">        &lt;th&gt;&lt;label for="email"&gt;Email&lt;/label&gt;&lt;/th&gt;</span>
<span class="cm">        &lt;th&gt;&lt;label for="password"&gt;Password&lt;/label&gt;&lt;/th&gt;</span>
<span class="cm">        &lt;th&gt;&lt;label for="phone"&gt;Phone&lt;/label&gt;&lt;/th&gt;</span>
<span class="cm">    &lt;/tr&gt;</span>
<span class="cm">    &lt;tr&gt;</span>
<span class="cm">        &lt;td&gt;&lt;input type="text" name="name" id="name" required&gt;&lt;/td&gt;</span>
<span class="cm">        &lt;td&gt;&lt;input type="email" name="email" id="email" placeholder="abc@xyz.org" required&gt;&lt;/td&gt;</span>
<span class="cm">        &lt;td&gt;&lt;input type="password" name="password" id="password" required&gt;&lt;/td&gt;</span>
<span class="cm">        &lt;td&gt;&lt;input type="tel" name="phone_num" id="phone_num"</span>
<span class="cm">            pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}"</span>
<span class="cm">            placeholder="999-999-9999"&gt;&lt;/td&gt;</span>
<span class="cm">        &lt;td &gt;&lt;button onclick="create_User()"&gt;Create&lt;/button&gt;&lt;/td&gt;</span>
<span class="cm">    &lt;/tr&gt;</span>
<span class="cm">&lt;/table&gt;</span>
<span class="cm">*/</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And here's what it ends up looking like:</p>
<table>
    <tr>
        <th><label for="name">Name</label></th>
        <th><label for="email">Email</label></th>
        <th><label for="password">Password</label></th>
        <th><label for="phone">Phone</label></th>
    </tr>
    <tr>
        <td><input type="text" name="name" id="name" required=""></td>
        <td><input type="email" name="email" id="email" placeholder="abc@xyz.org" required=""></td>
        <td><input type="password" name="password" id="password" required=""></td>
        <td><input type="tel" name="phone_num" id="phone_num" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" placeholder="999-999-9999"></td>
        <td><button onclick="create_User()">Create</button></td>
    </tr>
</table>
<p>Each table element is given a unique ID to be called back later. The "values" of each input element will be used in code.</p>
<h3 id="Other-Formatting-Example">
<a class="anchor" href="#Other-Formatting-Example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Other Formatting Example<a class="anchor-link" href="#Other-Formatting-Example"> </a>
</h3>
<p>Here is an example that is not formatted in a table, which uses many of the same input stipulations.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-javascript"><pre><span></span><span class="cm">/*</span>
<span class="cm">&lt;form action="create_User()"&gt;</span>
<span class="cm">    &lt;p&gt;&lt;label&gt;</span>
<span class="cm">        Name:</span>
<span class="cm">        &lt;input type="text" name="name" id="name" required&gt;</span>
<span class="cm">    &lt;/label&gt;&lt;/p&gt;</span>
<span class="cm">    &lt;p&gt;&lt;label&gt;</span>
<span class="cm">        User ID:</span>
<span class="cm">        &lt;input type="text" name="uid" id="uid" required&gt;</span>
<span class="cm">    &lt;/label&gt;&lt;/p&gt;</span>
<span class="cm">    &lt;p&gt;&lt;label&gt;</span>
<span class="cm">        Password:</span>
<span class="cm">        &lt;input type="password" name="password" id="password" required&gt;</span>
<span class="cm">        Verify Password:</span>
<span class="cm">        &lt;input type="password" name="passwordV" id="passwordV" required&gt;</span>
<span class="cm">    &lt;/label&gt;&lt;/p&gt;</span>
<span class="cm">    &lt;p&gt;&lt;label&gt;</span>
<span class="cm">        Phone:</span>
<span class="cm">        &lt;input type="tel" name="phone_num" id="phone_num"</span>
<span class="cm">            pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}"</span>
<span class="cm">            placeholder="999-999-9999"&gt;</span>
<span class="cm">    &lt;/label&gt;&lt;/p&gt;</span>
<span class="cm">    &lt;p&gt;&lt;label&gt;</span>
<span class="cm">        Birthday:</span>
<span class="cm">        &lt;input type="date" name="dob" id="dob"&gt;</span>
<span class="cm">    &lt;/label&gt;&lt;/p&gt;</span>
<span class="cm">    &lt;p&gt;</span>
<span class="cm">        &lt;button&gt;Create&lt;/button&gt;</span>
<span class="cm">    &lt;/p&gt;</span>
<span class="cm">&lt;/form&gt;</span>
<span class="cm">*/</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<form action="create_User()">
    <p><label>
        Name:
        <input type="text" name="name" id="name" required="">
    </label></p>
    <p><label>
        User ID:
        <input type="text" name="uid" id="uid" required="">
    </label></p>
    <p><label>
        Password:
        <input type="password" name="password" id="password" required="">
        Verify Password:
        <input type="password" name="passwordV" id="passwordV" required="">
    </label></p>
    <p><label>
        Phone:
        <input type="tel" name="phone_num" id="phone_num" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" placeholder="999-999-9999">
    </label></p>
    <p><label>
        Birthday:
        <input type="date" name="dob" id="dob">
    </label></p>
    <p>
        <button>Create</button>
    </p>
</form>
<h3 id="Connecting-to-Code">
<a class="anchor" href="#Connecting-to-Code" aria-hidden="true"><span class="octicon octicon-link"></span></a>Connecting to Code<a class="anchor-link" href="#Connecting-to-Code"> </a>
</h3>
<p>You may notice that each of these connect to the function <code>create_User()</code>. That is found in the JavaScript code below.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-javascript"><pre><span></span><span class="kd">function</span> <span class="nx">create_User</span><span class="p">(){</span>
    <span class="c1">// extract data from inputs</span>
    <span class="kr">const</span> <span class="nx">name</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"name"</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">email</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"email"</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">password</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"password"</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">phone</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"phone"</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">method</span><span class="o">:</span> <span class="s1">'POST'</span><span class="p">,</span>
        <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span>
            <span class="s1">'Content-Type'</span><span class="o">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
            <span class="s1">'Authorization'</span><span class="o">:</span> <span class="s1">'Bearer my-token'</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">};</span>
    <span class="c1">//url for Create API</span>
    <span class="kr">const</span> <span class="nx">url</span><span class="o">=</span><span class="s1">'/crud_api/create/'</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="s1">'/'</span> <span class="o">+</span> <span class="nx">email</span><span class="o">+</span> <span class="s1">'/'</span> <span class="o">+</span> <span class="nx">password</span> <span class="o">+</span> <span class="s1">'/'</span> <span class="o">+</span> <span class="nx">phone</span><span class="p">;</span>
    <span class="c1">//Async fetch API call to the database to create a new user</span>
    <span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="c1">// prepare HTML search result container for new output</span>
        <span class="kr">const</span> <span class="nx">resultContainer</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"result"</span><span class="p">);</span>
        <span class="c1">// trap error response from Web API</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">!==</span> <span class="mf">200</span><span class="p">)</span> <span class="p">{</span>
            <span class="kr">const</span> <span class="nx">errorMsg</span> <span class="o">=</span> <span class="s1">'Database response error: '</span> <span class="o">+</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">;</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">errorMsg</span><span class="p">);</span>
            <span class="c1">// Email must be unique, no duplicates allowed</span>
            <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"pswError"</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span>
                <span class="s2">"Email already exists in the table"</span><span class="p">;</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="c1">// response contains valid result</span>
        <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
            <span class="c1">//add a table row for the new/created userId</span>
            <span class="kr">const</span> <span class="nx">tr</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"tr"</span><span class="p">);</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">key</span> <span class="o">!==</span> <span class="s1">'query'</span><span class="p">)</span> <span class="p">{</span>
                    <span class="c1">//create a DOM element for the data(cells) in table rows</span>
                    <span class="kr">const</span> <span class="nx">td</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"td"</span><span class="p">);</span>
                    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">[</span><span class="nx">key</span><span class="p">]);</span>
                    <span class="c1">//truncate the displayed password to length 20</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nx">key</span> <span class="o">===</span> <span class="s1">'password'</span><span class="p">){</span>
                        <span class="nx">td</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">data</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">substring</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">17</span><span class="p">)</span><span class="o">+</span><span class="s2">"..."</span><span class="p">;</span>
                    <span class="p">}</span>
                    <span class="k">else</span><span class="p">{</span>
                        <span class="nx">td</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">data</span><span class="p">[</span><span class="nx">key</span><span class="p">];}</span>
                    <span class="c1">//add the DOM data element to the row</span>
                    <span class="nx">tr</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">td</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="c1">//append the DOM row to the table</span>
            <span class="nx">table</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">tr</span><span class="p">);</span>
        <span class="p">})</span>
    <span class="p">})</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This creates an API with the data inputted into the fields above, pulling from the values in the boxes.</p>
<h2 id="Where-to-Get-Started">
<a class="anchor" href="#Where-to-Get-Started" aria-hidden="true"><span class="octicon octicon-link"></span></a>Where to Get Started<a class="anchor-link" href="#Where-to-Get-Started"> </a>
</h2>
<p>It's important to show that theoretically the system works even before the data input is in working condition (a "View" model). An example of this would be to create a static body of JSON data separate from your intended API content, then use that to show that the Read part is working, and possibly other aspects depending on what the CRUD program includes.</p>
<h3 id="How-I-Will-Use-CRUD">
<a class="anchor" href="#How-I-Will-Use-CRUD" aria-hidden="true"><span class="octicon octicon-link"></span></a>How I Will Use CRUD<a class="anchor-link" href="#How-I-Will-Use-CRUD"> </a>
</h3>
<p>I plan on making a user input form on the "Events" page of the Cafe Gato website, on which the user can schedule an event in the events room of the cafe from a selected duration of time. A form must be submitted on the page.</p>

</div>
</div>
</div>
</div>



  </div><a class="u-url" href="/realdrew/view&frontendnotes/" hidden></a>
</article>

<script src="https://utteranc.es/client.js"
        repo="[ENTER REPO HERE]"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>